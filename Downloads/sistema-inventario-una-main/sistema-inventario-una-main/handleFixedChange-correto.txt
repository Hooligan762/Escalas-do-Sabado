  const handleFixedChange = async (itemId: string | number, newValue: boolean) => {
    console.log('üîß [Dashboard] handleFixedChange chamado para ID:', itemId, 'Novo valor:', newValue);
    
    const itemToUpdate = inventory.find(i => i.id === itemId);
    if (!itemToUpdate) {
      console.error('‚ùå [Dashboard] Item n√£o encontrado no estado local:', itemId);
      toast({
        variant: 'destructive',
        title: 'Item n√£o encontrado',
        description: 'O item n√£o foi localizado na lista atual.'
      });
      return;
    }
    
    console.log('üìù [Dashboard] Item encontrado:', {
      id: itemToUpdate.id,
      serial: itemToUpdate.serial,
      isFixedAtual: itemToUpdate.isFixed,
      novoValor: newValue
    });
    
    const updatedItem = { ...itemToUpdate, isFixed: newValue, updated: new Date().toISOString() };
    
    // Atualizar estado local IMEDIATAMENTE para feedback visual
    setInventory(prev => prev.map(i => i.id === itemId ? updatedItem : i));
    
    // Salvar no banco EM TEMPO REAL (IGUAL AOS OUTROS CAMPUS)
    try {
      console.log('üíæ [Dashboard] Enviando para banco...', { id: String(itemId), isFixed: newValue });
      await updateItem(String(itemId), { isFixed: newValue });
      console.log('‚úÖ [Dashboard] Salvo no banco com sucesso!');
      
      await addAuditLogEntry('update', updatedItem, `Alterou campo "Fixo" para ${newValue ? 'Sim' : 'N√£o'} para o item S/N: ${updatedItem.serial}`);
      console.log('üìù [Dashboard] Log de auditoria criado!');
      
      // Toast PADR√ÉO igual aos outros campus (SEM MENSAGEM DE "TEMPOR√ÅRIO")
      toast({ 
        title: "Campo Fixo Atualizado", 
        description: `O item ${updatedItem.serial} foi marcado como ${newValue ? 'fixo' : 'n√£o fixo'}.` 
      });
      
    } catch (error) {
      console.error('‚ùå [Dashboard] Erro ao atualizar campo fixo no banco:', error);
      console.error('üîç [Dashboard] Detalhes do erro:', {
        itemId,
        newValue,
        error: (error as Error)?.message || 'Erro desconhecido'
      });
      
      // Reverter estado local em caso de erro
      setInventory(prev => prev.map(i => i.id === itemId ? itemToUpdate : i));
      
      toast({
        variant: 'destructive',
        title: 'Erro ao atualizar campo',
        description: 'N√£o foi poss√≠vel salvar a altera√ß√£o no banco de dados.'
      });
      return;
    }
  };